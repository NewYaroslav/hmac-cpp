# hmac-cpp

–õ—ë–≥–∫–∞—è C++11-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è `HMAC` (hash-based message authentication code), –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∞—è `SHA256` –∏ `SHA512`.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å **C++11**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `HMAC` –Ω–∞ –æ—Å–Ω–æ–≤–µ `SHA256` –∏ `SHA512`
- –ü—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å –±–∏–Ω–∞—Ä–Ω—ã–º –∏–ª–∏ hex-—Ñ–æ—Ä–º–∞—Ç–æ–º
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ CMake
- –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–º–ø–ª–µ–∫—Ç–µ

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Å–±–æ—Ä–∫–∞

–î–ª—è —Å–±–æ—Ä–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ CMake:

```bash
cmake -B build -DBUILD_EXAMPLE=ON
cmake --build build
```

–ß—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏:

```bash
cmake --install build --prefix _install
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

```
_install/
‚îú‚îÄ‚îÄ include/hmac_cpp/
‚îÇ   ‚îú‚îÄ‚îÄ hmac.hpp
‚îÇ   ‚îú‚îÄ‚îÄ sha256.hpp
‚îÇ   ‚îî‚îÄ‚îÄ sha512.hpp
‚îî‚îÄ‚îÄ lib/
    ‚îî‚îÄ‚îÄ libhmac.a
```

–¢–∞–∫–∂–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å –≥–æ—Ç–æ–≤—ã–µ `.bat`-—Ñ–∞–π–ª—ã –¥–ª—è —Å–±–æ—Ä–∫–∏ –ø–æ–¥ MinGW: `build_*.bat`.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

HMAC-—Ñ—É–Ω–∫—Ü–∏—è:

```cpp
std::string get_hmac(
    std::string key,
    const std::string& msg,
    const TypeHash type,
    bool is_hex = true,
    bool is_upper = false
);
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `key` ‚Äî –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á
- `msg` ‚Äî –°–æ–æ–±—â–µ–Ω–∏–µ
- `type` ‚Äî –¢–∏–ø —Ö–µ—à-—Ñ—É–Ω–∫—Ü–∏–∏ `hmac::TypeHash`. –£–∫–∞–∑–∞—Ç—å `SHA256` –∏–ª–∏ `SHA512`
- `is_hex` ‚Äî –í–µ—Ä–Ω—É—Ç—å hex-—Å—Ç—Ä–æ–∫—É (`true`) –∏–ª–∏ –±–∏–Ω–∞—Ä–Ω—É—é (`false`) [–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: true]
- `is_upper` ‚Äî –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä (—Ç–æ–ª—å–∫–æ –¥–ª—è `hex`) [–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: false]

## üìÑ –ü—Ä–∏–º–µ—Ä

–ü—Ä–∏–º–µ—Ä –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `example.cpp`, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –ø—Ä–∏ `BUILD_EXAMPLE=ON`.

```cpp
#include <iostream>
#include <hmac.hpp>

int main() {
    std::string input = "grape";
    std::string key = "12345";

    std::string hmac_sha256 = hmac::get_hmac(key, input, hmac::TypeHash::SHA256);
    std::cout << "HMAC-SHA256: " << hmac_sha256 << std::endl;

    std::string hmac_sha512 = hmac::get_hmac(key, input, hmac::TypeHash::SHA512);
    std::cout << "HMAC-SHA512: " << hmac_sha512 << std::endl;

    return 0;
}
```

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

* –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ [SHA256](http://www.zedwood.com/article/cpp-sha256-function)
* –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ [SHA512](http://www.zedwood.com/article/cpp-sha512-function)
* –û–ø–∏—Å–∞–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ [HMAC](https://ru.wikipedia.org/wiki/HMAC)


## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π **MIT**.  
–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å –∫–æ–¥, –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ª–∏—Ü–µ–Ω–∑–∏–∏.

–°–º. —Ñ–∞–π–ª [`LICENSE`](./LICENSE) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.